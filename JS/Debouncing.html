<!DOCTYPE html>
<html>
<body>
<input onkeyup='doSomethingBetter()' />
<script>

let counter = 0
function getData () {
	// calls an api & get the data
	console.log('fetching data ', counter++)
}

function debounce (fn, delay) {
	let timer;
	return function (args2) {
		let context = this
		let args = arguments
		clearTimeout(timer)
		timer = setTimeout(() => {
			fn.apply(context, args)
		}, delay)
		
	}
}

function debouncingNew (fn, delay) {
	let timer;
	return function () {
		let context = this
		clearTimeout(timer)
		timer = setTimeout(() => {
			fn.apply(context, arguments)
		}, delay)
	}
}


let doSomethingBetter = debouncingNew(getData, 300)
</script>                    
</body>
</html>      